/*|  CyTube Custom Channel Settings Modal
**|  Version: 2015-02-05
**|  Written by Xaekai. Copyright 2014-2015.
**@preserve
*/
if(!$("#customSettingsStaging").length){$("<div/>").prop("id","customSettingsStaging").hide().insertAfter("#useroptions")}if($("#customSettingsModal").length){$("#customSettingsWrap .customSettings").detach().appendTo($("#customSettingsStaging"));$("#customSettingsModal").remove()}if($("#customSettingsModalTrigger").length){$("#customSettingsModalTrigger").unbind().remove()}function createModal(data){var title=data.title||"Empty Modal";var title_m=!!data.titleIsMarkup;var wrap=$("<div/>").addClass("modal fade").attr("tabindex","-1");var dialog=$("<div/>").addClass("modal-dialog").appendTo(wrap);var content=$("<div/>").addClass("modal-content").appendTo(dialog);var head=$("<div/>").addClass("modal-header").appendTo(content);var body=$("<div/>").addClass("modal-body").appendTo(content);var foot=$("<div/>").addClass("modal-footer");$("<button/>").addClass("close").attr("data-dismiss","modal").attr("data-hidden","true").html("&times;").appendTo(head);$("<button/>").addClass("btn btn-default").attr("data-dismiss","modal").prop("type","button").html("Close").appendTo(foot);if(title_m){$("<h4/>").addClass("modal-title").html(title).appendTo(head)}else{$("<h4/>").addClass("modal-title").text(title).appendTo(head)}if(data.wrap_id){wrap.prop("id",data.wrap_id)}if(data.body_id){body.prop("id",data.body_id)}if(data.footer){foot.appendTo(content)}if(data.destroy){wrap.on("hidden.bs.modal",function(){wrap.remove()})}if(data.attach){wrap.appendTo(data.attach)}return wrap}$("<button/>").prop("id","customSettingsModalTrigger").attr("title","Channel Control").addClass("btn btn-sm btn-default").html('<span class="glyphicon glyphicon-tasks"></span> Channel Control').button().appendTo("#customSettingsStaging").attr("data-toggle","modal").click(function(event){createModal({title:"Personal Channel Settings: "+CHANNEL.name,wrap_id:"customSettingsModal",body_id:"customSettingsWrap",footer:true}).on("show.bs.modal",function(event){$("#customSettingsStaging .customSettings").each(function(){var panel=$("<div/>").addClass("panel panel-primary");var heading=$("<div/>").addClass("panel-heading").appendTo(panel);var body=$("<div/>").addClass("panel-body").appendTo(panel);panel.appendTo($("#customSettingsWrap"));heading.text($(this).data().title);$(this).detach().appendTo(body)})}).on("hidden.bs.modal",function(event){$("#customSettingsWrap .customSettings").detach().appendTo($("#customSettingsStaging"));$("#customSettingsModal").remove()}).insertAfter("#useroptions").modal()});if(USEROPTS.layout.match(/synchtube/)){$("#customSettingsModalTrigger").detach().appendTo("#leftcontrols")}else{$("#customSettingsModalTrigger").detach().prependTo("#leftcontrols")}